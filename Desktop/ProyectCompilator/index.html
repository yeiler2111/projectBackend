<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automata con Cytoscape.js</title>
    <script src="https://unpkg.com/cytoscape@3.18.2/dist/cytoscape.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="css/main.css" />
  </head>

  <body>
    <div class="container-fluid d-flex gap-2">
      <div class="col-9" id="cy"></div>

      <div class="col-3 p-0" class="aside d-flex flex-column">
        <div class="col mb-2">
          <label style="color: white; font-weight: bold"
            >Ingresa tu palabra:</label
          >
          <br />
          <input
            class="form-control mb-1"
            type="text"
            placeholder="escribe tu palabra"
            id="inputWord"
          />
          <button
            class="btn btn-success pt-1 pb-1"
            type="button"
            id="validateButton"
          >
            Validar
          </button>
        </div>
        <div class="col">
          <textarea
            name=""
            id="acceptedWords"
            disabled
            cols="30"
            rows="10"
          ></textarea>
          <div id="resultDiv"></div>
        </div>
        <div id="resultVali" class="w-100 h-auto"></div>
      </div>
    </div>

    <script src="scripts/Cytoscape.js"></script>
    <script src="scripts/validation.js"></script>
    <script>
      document
        .getElementById("validateButton")
        .addEventListener("click", function () {
          const inputWord = document.getElementById("inputWord").value;
          const validar = new Validation();
          const respuesta = validar.validate(inputWord);

          const resultDiv = document.getElementById("resultDiv");

          if (respuesta === -1) {
            resultDiv.textContent = "Palabra rechazada";
            resultDiv.className = "bg-rechazado";
          } else {
            resultDiv.textContent = "Palabra aceptada";
            resultDiv.className = "bg-aceptado";
          }
          if (resultDiv.textContent == "Palabra aceptada") {
            const acceptedWordsTextarea =
              document.getElementById("acceptedWords");
            acceptedWordsTextarea.value += inputWord + "\n"; 
          }
        });

      document
        .getElementById("inputWord")
        .addEventListener("input", function () {
          const resultDiv = document.getElementById("resultDiv");
          resultDiv.textContent = ""; // Limpiar contenido
          resultDiv.className = ""; // Eliminar la clase de fondo
        });
    </script>
  </body>
</html>
